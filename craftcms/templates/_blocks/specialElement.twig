{# redeclare the variables set in `templates/_blocks/_base.twig` that we'll be using here #}
{% set settings  = settings  ??? null %}
{% set content   = content   ??? null %}
{% set grid      = grid      ??? settings.grid ??? null %}
{% set text      = text      ??? content.text  ??? null %}
{% set component = component ??? settings.specialComponent ??? null %}
{% set searchID  = searchID  ??? (content.searches.ids() ??? null)|first ??? null %}

{% if component %}

    {% set specialContent %}
        {% if '_sprig' in component %}
            {{ sprig( component, {
                text: text|string,
                settings: settings,
                searchID: searchID
            }) }}
        {% else %}
            {{- include( component, {
                text: text,
                settings: settings,
                searchID: searchID
            }, withContext = false ) -}}
        {% endif %}
    {% endset %}

    {% if grid %}
        {% embed grid %}
            {% block cell1 %}
                {{text|raw}}
            {% endblock %}

            {% block cell2 %}
                {{specialContent|raw}}
            {% endblock %}
        {% endembed %}
    {% else %}
        {{specialContent|raw}}
    {% endif %}

{% endif %}