{% set handle = handle ??? null %}

{% if handle %}
    {% set title  = title ??? craft.navigation.getNavByHandle( handle ).name ??? null %}
    {% set nodes  = craft.navigation.nodes().handle( handle ).level(1) %}

    {% embed '_components/navigation/_base.list' with {
        title : title,
        handle: handle,
        items : nodes.all() ??? null,
    } %}
        {% block item %}
            {{ node.hasDescendants ??? null
                ? block('dropdownMenu') : parent() }}
        {% endblock %}

        {% block dropdownMenu %}
            {% embed "_components/navigation/dropdown" with
                { dropdown: node, itemClass: block( 'itemClass' ) }
            %}
                {% block buttonClass %}
                    {{ itemClass }}
                {% endblock %}
            {% endembed %}
        {% endblock %}

        {% block lastItem %}
            {{ block( 'openItem' ) }}

            {{ tag( 'a', {
                href : "/search",
                class: block('itemClass'),
                html : include( 'vectors/search.svg' )
            }) }}

            {{ block( 'closeItem' ) }}
        {% endblock %}
    {% endembed %}
{% endif %}