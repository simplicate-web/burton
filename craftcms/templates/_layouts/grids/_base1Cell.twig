{##
   grids are micro-layouts used for quickly implementing common layout patterns.

   a grid template tends to be called via a twig {% embed %} tag to take advantage
   of the ability to override any defined blocks with the template.

   it's generally safe to provide a grid template access to all variables that
   exist in the template that is calling it, but you are free to limit context
   if you like.

   each grid consists of a `_grid` object, which contains a series of tailwind
   utility classes used to implement each part of the micro-layouts.

   individual `_grid` attributes can be overridden by including a new value
   for that attribute inside a `settings` object passed into the template. ##}

{% set _base = {
    gridBase  : '',
    gridHeader: '',
    gridCell1 : '',
    gridInner1: '',
    gridFooter: ''
} %}

{% set class = _base | merge(_grid ??? {}) %}

{% set cell1Inner = class.gridInner1 ??? null %}

{% block gridHeader -%}
    {% apply retconRemoveEmpty('div.cGridHeader') -%}
        <div class="cGridHeader {{class.gridHeader}}">{% block header %}{{ ( headerCell ??? null )|raw }}{% endblock %}</div>
    {%- endapply %}
{%- endblock %}

{% apply retconRemoveEmpty('div.cGridCell') -%}
    <div class="cGrid {{class.gridBase}}">
        {% block gridCell1 %}
            <div class="cGridCell {{class.gridCell1}}">
                {% if cell1Inner %}<div class="{{cell1Inner}}">{% endif %}
                    {% block cell1 %}{% endblock %}
                    {{- gridInclude1 ??? null -}}
                {% if cell1Inner %}</div>{% endif %}
            </div>
        {% endblock %}
    </div>
{%- endapply %}

{% block gridFooter -%}
    {% apply retconRemoveEmpty('div.cGridFooter') -%}
        <div class="cGridFooter {{class.gridFooter}}">{% block footer %}{{ ( footerCell ??? null )|raw }}{% endblock %}</div>
    {%- endapply %}
{%- endblock %}
