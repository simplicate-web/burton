{% set media = media ??? null %}

{% set card = {
    headline : media.headline ??? media.title   ??? null,
    summary  : media.dek      ??? media.summary ??? media.text ??? null,
    images   : media.images   ??? null,
    layout   : 'standard',
    location : 'content',
    loop     : null,
    kind     : null,
    source   : null,
    settings : null,
}|map( (item,key) => _context[key] ??? item ) %}

{% if "VERBB\\SUPERTABLE\\ELEMENTS\\SUPERTABLEBLOCKELEMENT" == ( className(media) ??? null ) | upper %}

    {## need to lookup / embed ##}
    {% set embedInfo = embedInfo( media.sourceUrl ) %}
    {% set card = card|merge({ embed: embedInfo ??? null }) %}

{% else %}

    {## it's a local asset ##}

{% endif %}


{% extends [
    "_components/media/#{card.layout}"
] %}

{#
    {% extends [
        "_components/media/_#{kind}.#{source}",
        "_components/media/_#{kind}",
        "_components/media/#{card.layout}"
    ] %}
#}
