{## Site Base Card Template
 ------------------------------------------------------------------------------------- ##
    This is the base card template that all site cards extend from. It provides the
    basic structure and layout for all cards, along with a variety of common elements.

    Most card templates should inherit directly from thie template.
 ------------------------------------------------------------------------------------- ##}
{% extends "_core/card" %}



{## Text Link
 ------------------------------------------------------------------------------------ ##
    Like the Default Action, but uses a visible text-based (non-button) link
 ------------------------------------------------------------------------------------ ##}
{# {% block action_default %}
    {%- if card.item.url|default() -%}
        <a href="{{card.item.url}}" class="clickCover"
            ><span class="hidden">Read More â†’</span></a>
    {%- endif -%}
{% endblock %} #}

{# {% block action_textlink %}
    {%- if card.item.url|default() -%}
        <div class="flex">
            <a href="{{card.item.url}}" class="clickCover buttonText"
                >Read More</a>
        </div>
    {%- endif -%}
{% endblock %} #}



{## Modal Content (Basic)
 ------------------------------------------------------------------------------------ ##
    Creates a modal window that will load on-click to display extended card info.
 ------------------------------------------------------------------------------------ ##}
{# {% block action_modal -%}

    {% embed modalLayout ??? settings.modalLayout ??? "_core/modal/base" with {
        item  : card.item ??? card ??? null,
        layout: modalCard ??? settings.modalCard ??? [ "modal", "detail" ],
    } %}
        {% block content %}
            {% import "_core/card" as cards %}
            {{ cards.single( item, layout, settings ) }}
        {% endblock %}
    {% endembed %}

{%- endblock %} #}


{# {% block summary_default -%}
    {% import "_layout/core/markup" as markup %}
    {{ markup.summaryMaxH4( card.summary ??? null ) }}
{%- endblock %} #}



{## Truncated Summary
 ------------------------------------------------------------------------------------ ##
    Same formatting as a Full Summary, but line-clamped to limit length
 ------------------------------------------------------------------------------------ ##}
{# {% block summary_truncated -%}
    <div class="line-clamp-3">
        {% import "_layout/core/markup" as markup %}
        {{ markup.summaryMaxH4( card.summary ??? null ) }}
    </div>
{%- endblock %} #}



{## Overflow Summary
 ------------------------------------------------------------------------------------ ##
 ------------------------------------------------------------------------------------ ##}
{# {% block summary_overflow -%}
    <div class="overflow-y-scroll max-h-[50vh] @container">
        {% import "_layout/core/markup" as markup %}
        {{ markup.summaryMaxH4(
            card.summary|default()
                | retconAttr( 'p,ul,ol', { class: "html" }, false )
                | retconAttr( 'ul,ol',   { class: "pl-8" }, false )
            )
        }}
    </div>
{%- endblock %} #}