{## Block Skeleton
 ------------------------------------------------------------------------------------ ##}
{% extends [template_from_string('{% block block %}{% endblock %}')] %}
{% import "_core/assemble" as assemble %}
{% import "_core/block"    as blocks %}

{## Yes, this is a valid name. Silly, right? ##}
{% block block %}

    {## Spacer between blocks (Before) ##}
    {% block before assemble.spacer( block.settings.betweenBefore ??? false ) %}

    {## Theme block + open theme tag ##}
    {% block theme %}
    {% block theme__open blocks.openTheme( block.settings, true ) %}

        {## Section block + content ##}
        {% block section %}
            {% block open blocks.openBlock( block.settings ) %}
            {% block content "" %}
            {% block close blocks.closeBlock( block.settings ) %}
        {% endblock %}

    {## Close theme tag + block  ##}
    {% block theme__close blocks.closeTheme( block.settings, true ) %}
    {% endblock theme %}

    {## Spacing between blocks (After) ##}
    {% block after assemble.spacer( block.settings.betweenAfter ??? false ) %}

{% endblock %}



{## Zone 1 Text Content - Commonly CKEditor or Redactor based Rich Text/HTML
 ------------------------------------------------------------------------------------ ##
    Most Block types share a common "Zone 1 Text" field, but it is frequently optional.

    This block is responsible for rendering the Zone 1 / Text field content and making
    any necessary adjustments to the content based on the block attribute settings.
 ------------------------------------------------------------------------------------ ##}
{% block block__text -%}
    {{ assemble.richtext(
        block.settings.richtextBody ?? 'body',
        block.text ?? null,
        block.settings ?? {}
    ) }}

    {# {{ dump( block.settings ) }} #}
{%- endblock %}



{## Block <header> zone content
 ------------------------------------------------------------------------------------ ##}
{% block block__header %}
    {{ assemble.richtext(
        block.settings.richtextHeader ?? 'header',
        block.text ?? null,
        block.settings ?? {}
    ) }}
{% endblock %}



{## Block <footer> zone content
 ------------------------------------------------------------------------------------ ##}
{% block block__footer %}
    {{ assemble.richtext(
        block.settings.richtextHeader ?? 'footer',
        block.text ?? null,
        block.settings ?? {}
    ) }}
{% endblock %}