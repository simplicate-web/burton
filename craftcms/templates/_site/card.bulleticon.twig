{% extends ["_site/card", "_core/card"] %}
{% block card__name _self %}

{% block card__image %}
    {% set frame = {
        figure      : "max-w-[170px] mx-auto",
        _placeholder: "icon"
    } %}

    {% import "_core/assemble" as assemble %}
    {{ assemble.element( 'image', card.images, frame, settings|default({}) ) }}
{% endblock %}

{% block card__headline %}
    {{ parent() | attr({class:"text-center"}) }}
{% endblock %}

{% block card__text %}
    {{ parent() | attr({class:"text-center"}) }}
{% endblock %}



{# {% block content %}
    {% set cardHeaderClass = 'mb-0 text-lg' %}
    {% set headline = block('card_headline') %}
    {% set hasLink  = headline | retconOnly( 'a' ) | length %}
    {% set summary  = block( 'card_summary' ) %}

    {% block bulleticon_card %}
        <div class="
            flex
            flex-col
            @md:flex-row
            justify-center
            items-center
            w-full
            bg-theme-contrast-light
            rounded-xl
            p-4
            gap-4
            {% if hasLink %}
                hover:-translate-y-1
                hover:shadow-lg
                hover:bg-theme-accent
            {% endif %}
        ">

            {% block bulleticon_card_image %}
                <div class="image text-center self-start">
                    <div class="w-24 rounded-full overflow-hidden">
                        {% import "_core/assemble" as assemble %}
                        {{ assemble.frame( card.images, settings.cardImageFrame ??? 'icon', settings|default({}) ) }}
                    </div>
                </div>
            {% endblock %}

            {% block bulleticon_card_text %}
                {% if hasLink %}
                    <div class="h-full w-full flex-grow flex flex-col gap-4">
                        {{ headline | raw }}

                        {% if summary %}
                            {{ tag( 'div', {
                                class: 'line-clamp-3 @container',
                                html : summary | raw
                            })}}
                        {% endif %}

                        {{ block('card_action') }}

                    </div>
                {% else %}
                    <div class="h-full w-full flex-grow flex flex-col gap-4">
                        {{ headline | raw }}

                        {{ summary | raw }}
                    </div>
                {% endif %}
            {% endblock %}
        </div>
    {% endblock %}
{% endblock %} #}