{## Article Entry Router
 ------------------------------------------------------------------------------------ ##}
{% set template  = null %}
{% set entryType = entry.type.handle|default(null) %}

{% if entryType == 'blog' %}
    {% set template = "_site/content/articles.base" %}
{% endif %}

{% if entryType == 'news' %}
    {% set template = "_site/content/articles.base" %}
{% endif %}

{% if entryType and template %}
    {{ include( template ) }}
{% else %}
    {% header "HTTP/1.0 404 Not Found" %}
{% endif %}


{## Generate the URI for article entries
 ------------------------------------------------------------------------------------ ##
    Often easier than trying to cram a bunch of conditional twig logic into the tiny
    space provided by the URI Format field in the control panel.

    However, you do need to trigger a manual resave of all entries if you change
    the URI sturcture in the below macro for existing records.
 ------------------------------------------------------------------------------------ ##}
{% macro uri( object ) -%}
    {{object.type|kebab}}/{{object.slug}}
{%- endmacro %}