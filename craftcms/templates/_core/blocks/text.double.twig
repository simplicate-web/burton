{## Text Double Block Base
 ------------------------------------------------------------------------------------ ##
    -> http://localhost:8000/sitehub/blocks/textDouble
 ------------------------------------------------------------------------------------ ##}
{% extends [ "_site/content/blocks/base", "_core/blocks/base" ] %}


{## Render the block using a two-zone micro-layout
 ------------------------------------------------------------------------------------ ##
    -> http://localhost:8000/sitehub/layout/micro
    -> http://buildwithburton.com/docs/micro-layouts
 ------------------------------------------------------------------------------------ ##}
{% block content %}

    {% import "_site/layout/assemble" as layout %}

    {{ layout.micro(
        block.settings.microLayout|default('topBottom'),
        {
            zone1     : block('block__text'),
            zone2     : block('block__text2'),
            header    : block('block__header'),
            footer    : block('block__footer'),
            container : block.settings.container|default()
        }
    ) }}

{% endblock %}


{## Default handler for a second block text field
 ------------------------------------------------------------------------------------ ##
    This block can be overridden in a child template
 ------------------------------------------------------------------------------------ ##}
{% block content_text2 -%}

    {## Extra Redactor/CKEditor Filtering (optional, but often useful)
     -------------------------------------------------------------------------------- ##
        processRichHtml() is a custom twig function that parses the html DOM, makes
        minor adjustments and does some rudimentary context-aware content separation.

        The macro code is reviewable / edidable locally:
         -> craftcms/modules/gearbox/src/twigextensions/GearboxTwigExtension.php
    ------------------------------------------------------------------------------------ ##}
    {% set processedText2 = processedText2 ??? processRichHtml( block.text2 ??? null ) %}

    {## this is equivilent to just outputting {{ block.text2 }} ##}
    {% if processedText2 -%}
        {{ processedText2.eyebrow  | raw }}
        {{ processedText2.headline | raw }}
        {{ processedText2.body     | raw }}
        {{ processedText2.cta      | raw }}
    {%- endif %}
{%- endblock %}