{## Image Block Base
 ------------------------------------------------------------------------------------ ##
    -> http://localhost:8000/sitehub/blocks/image
 ------------------------------------------------------------------------------------ ##}
{% extends [ "_site/content/blocks/base", "_core/blocks/base" ] %}


{## Render the block using a two-zone micro-layout
 ------------------------------------------------------------------------------------ ##
    -> http://localhost:8000/sitehub/layout/micro
    -> http://buildwithburton.com/docs/micro-layouts
 ------------------------------------------------------------------------------------ ##}
{% block content %}

    {% import "_site/layout/assemble" as layout %}

    {{ layout.micro(
        block.settings.microLayout|default('topBottom'),
        {
            zone1     : block('block__text'),
            zone2     : block('block__images'),
            header    : block('block__header'),
            footer    : block('block__footer'),
            container : block.settings.container|default(),
            imageFrame: block.settings.variant|default()
        }
    ) }}

{% endblock %}


{## Default handler for rendering image assets
 ------------------------------------------------------------------------------------ ##
    This block can be overridden in a child template
 ------------------------------------------------------------------------------------ ##}
{% block block__images %}

    {{ include([
        block.settings.imageLoop ?? null,
        '_site/images/loop.auto',
        '_core/images/loop.auto'
    ] | filter, {
         images  : block.images.all() ??? block.images ??? null,
         frame   : block.settings.imageFrame ??? 'auto',
         settings: block.settings ??? null
    }) }}

{% endblock %}