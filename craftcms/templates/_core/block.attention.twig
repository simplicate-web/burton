{## Action Block Base
 ------------------------------------------------------------------------------------ ##
    -> http://localhost:8000/sitehub/blocks/action
 ------------------------------------------------------------------------------------ ##}
{% set settings    = settings ??? block.settings ??? {}  %}
{% set microlayout = settings.microlayout ??? 'zone1Top' %}
{% set collection  = [] %}

{% embed [ "_site/block", "_core/block" ] with{
    block: block,
    settings: settings,
    collection: collection,
    microlayout: microlayout,
    collectionlayer: settings.collectionlayer ??? 'default',
} %}

    {## Action Block Content ##}
    {% block content %}
        {% import "_core/assemble" as assemble %}
        {{ assemble.microlayout( microlayout, {
            zone1 : block('block__text'),
            zone2 : block('block__action'),
            header: block('block__header'),
            footer: block('block__footer'),
        }, settings ) }}
    {% endblock %}


    {## Zone 2 Content ##}
    {% block block__action %}
        {% set blockName = 'action__' ~ block.variant %}
        {{ block( blockName ) is defined ? block( blockName ) }}
    {% endblock %}


    {% block action__iframe %}
        {% import "_core/assemble" as assemble %}
        {{ assemble.iframe( block.code|default(), block.settings ) }}
    {% endblock %}

{% endembed %}