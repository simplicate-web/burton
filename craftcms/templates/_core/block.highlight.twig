{## Highlight Block Base
 ------------------------------------------------------------------------------------ ##
    -> http://localhost:8000/sitehub/blocks/highlight
 ------------------------------------------------------------------------------------ ##}
{% extends [ "_site/base/block", "_core/block" ] %}
{% import "_core/assemble" as assemble %}

{% block content %}
    {{ assemble.micro( block.settings.microLayout|default('topBottom'), {
        zone1    : block('block__text'),
        zone2    : block('block__highlight'),
        header   : block('block__header'),
        footer   : block('block__footer'),
        container: block.settings.container|default()
    } ) }}
{% endblock content %}


{% block block__highlight %}
    {% set blockName = 'highlight__' ~ block.variant %}
    {{ block( blockName ) is defined ? block( blockName ) }}
{% endblock %}


{% block highlight__iframe %}
    {{ block.code|default()
        | retconAttr( 'iframe', { 'height' : false, 'width' : false } )
        | retconAttr( 'iframe', { 'class' : 'w-full aspect-video' } ) }}
{% endblock %}


{% block highlight__content %}
    {% set spotlight = block.entries.one() ??? null %}
    {% if spotlight %}
        {% from "_cards/base" import render as renderCard %}
        {{ renderCard( spotlight, "spotlight", block.settings ) }}
    {% endif %}
{% endblock %}