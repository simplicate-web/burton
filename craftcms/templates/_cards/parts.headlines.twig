{## Headline Partials
 ------------------------------------------------------------------------------------ ##
    Reusable headline style options for cards.

    This file is a structured for Horizontal Reuse. As such, it CAN NOT {% extend %}
    another template or declare a local {% macro %}. It also must not output any
    content outside of a {% block %} tag.

     -> https://twig.symfony.com/doc/3.x/tags/use.html

    In return, each {% block %} in this file can be loaded into any other templates
    as if they were native to that file. Imported blocks will retain their block names
    unless new names are assigned during import.

    By default `headline_default` {% block %} is imported into the base card template
    `_cards/base/_base` as the named block `card_headline` using:

        {% use "_cards/parts.headlines" with headline_default as card_headline %}


 ## Using a Headline other than the default
 ------------------------------------------------------------------------------------ ##
    There are several options for modifying a card headline:

     1) Swap `headline_default` for a different block from this (or another) file and
        import it overtop of the default `card_headline` named block.

        {% use "_cards/parts.headlines" with headline_knockout as card_headline %}


     2) Create a local override in a card template file:

        {% block card_headline %}
            // -- do something custom and specific here
        {% endblock %}


     3) Combining both (1) and (2) for more complicated functionality

        {% use "_cards/parts.headlines" with headline_knockout, headline_default %}
        {% block card_headline %}
            {{ test_some_condition
                  ? block( 'headline_knockout' )
                  : block( 'headline_default') }}
        {% endblock %}

        Don't forget about or underestimate the usefulness of the Twig `parent` function.
        With `parent` the above code can be refactored to:

        {% use "_cards/parts.headlines" with headline_knockout %}
        {% block card_headline %}
            {{ test_some_condition
                  ? block( 'headline_knockout' )
                  : parent() }}
        {% endblock %}

        Read more: https://twig.symfony.com/doc/3.x/functions/parent.html



 ## Plain Headline (Default)
 ------------------------------------------------------------------------------------ ##

 ------------------------------------------------------------------------------------ ##}
{% block headline_default %}{% apply spaceless %}

    {% if card.headline ??? null %}

        {% set tag   = cardHeaderTag   ??? card.settings.cardHeaderTag   ??? 'h3' %}
        {% set class = cardHeaderClass ??? card.settings.cardHeaderClass ??? null %}

        {% import "_layout/core/markup" as markup %}
        {{ markup.headline( card.headline, tag, class )
            | retconAttr( 'a', { class: 'clickCover no-underline' } ) }}

    {% endif %}

{% endapply %}{% endblock %}



{## Knockout Headline
 ------------------------------------------------------------------------------------ ##
    Solid background colour with knocked out text.
 ------------------------------------------------------------------------------------ ##}
{% block headline_knockout %}{% apply spaceless %}

    {% if card.headline ??? null %}

        {% set tag   = cardHeaderTag   ??? card.settings.cardHeaderTag   ??? 'h3' %}
        {% set class = cardHeaderClass ??? card.settings.cardHeaderClass ??? null  %}

        {% import "_layout/core/markup" as markup %}
        {{ markup.headlineKnockout( card.headline, tag, class ) }}

    {% endif %}

{% endapply %}{% endblock %}



{## Raw Text as Title (Default Title)
 ------------------------------------------------------------------------------------ ##
    Used when non-html text is needed for something like a tab/accordion/modal title.
 ------------------------------------------------------------------------------------ ##}
{% block title_default %}{% apply spaceless %}
    {{ ( card.headline ??? null )
        | retconRemove( [ 'img', 'figure', 'iframe' ] )
        | retconChange( [ 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'ol', 'ul', 'li', 'blockquote', 'div', 'a' ], '' )
    }}
{% endapply %}{% endblock %}



{## Eyebrow as Title
 ------------------------------------------------------------------------------------ ##
    Check for eyebrow elements that can be used as the title.
 ------------------------------------------------------------------------------------ ##}
{% block title_eyebrow %}{% apply spaceless %}
    {# {{ ( card.headline ??? null )
        | retconRemove( [ 'img', 'figure', 'iframe' ] )
        | retconChange( [ 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'ol', 'ul', 'li', 'blockquote', 'div', 'a' ], '' )
    }} #}
{% endapply %}{% endblock %}