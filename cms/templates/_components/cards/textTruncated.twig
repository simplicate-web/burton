{% import "_macros/richtext" as richtext %}

{% set htag    = htag    ??? 'h3' %}
{% set title   = title   ??? entry.title ??? entry.headline ??? null %}
{% set text    = text    ??? entry.summary ??? entry.dek ??? entry.text ??? null %}
{% set url     = url     ??? entry.url ??? null %}
{% set handle  = handle  ??? entry.section.handle ??? 'Base' %}

<article class="cCard cCard__text cCard__text--truncated cCard__{{handle}}">
    {% block title %}
        {%- if title -%}
            <{{htag}} class="mb-1">{{title}}</{{htag}}>
        {%- endif -%}
    {% endblock %}

    <div class="grid grid-col-1 gap-3">
        {% block aboveSummary %}{% endblock %}

        {% block summary %}
            {{ richtext.prose(
                craft.typogrify.truncate(text, 160)
            ) }}
        {% endblock %}

        {% block link %}
            {%- if url -%}
                <a class="clickable-parent" href="{{ url }}">Read more â†’</a>
            {%- endif -%}
        {% endblock %}
    </div>
</article>